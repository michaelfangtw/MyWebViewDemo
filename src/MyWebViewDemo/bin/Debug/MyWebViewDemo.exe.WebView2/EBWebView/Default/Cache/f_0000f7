!function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=47)}({10:function(t,i,o){"use strict";(function(t){function e(o,s){return new t(function(t,e){void 0!==s&&s||(s=window.document);var n=s.createElement("script");n.src=o;var r=s.getElementsByTagName("head")[0],i=!1;n.onload=n.onreadystatechange=function(){i||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(i=!0,t(),n.onload=n.onreadystatechange=null)},n.onerror=function(){e()},r.appendChild(n)})}function n(i){return new t(function(t,e){var n=document.getElementsByTagName("head")[0],r=document.createElement("link");r.onload=function(){t()},r.onerror=function(){e()},r.rel="stylesheet",r.type="text/css",r.href=i,r.media="all",n.appendChild(r)})}function r(r,i,o){return new t(function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(n.responseText)},o&&(n.ontimeout=function(t){e()}),n.onerror=function(){e()},n.open("GET",r,!0),o&&(n.timeout=o),i&&(n.withCredentials=!0),n.send(null)})}o.d(i,"c",function(){return e}),o.d(i,"b",function(){return n}),o.d(i,"a",function(){return r})}).call(this,o(5).Promise)},21:function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var y=function(){for(var t=window.document,e=s(t);e;)e=s(t=e.ownerDocument);return t}(),n=[],_=null,E=null;t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t._setupCrossOriginUpdater=function(){return _=_||function(t,e){E=t&&e?I(t,e):{top:0,bottom:0,left:0,right:0,width:0,height:0},n.forEach(function(t){t._checkForIntersections()})}},t._resetCrossOriginUpdater=function(){E=_=null},t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},t.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},t.prototype._monitorIntersections=function(e){var t=e.defaultView;if(t&&-1==this._monitoringDocuments.indexOf(e)){var n=this._checkForIntersections,r=null,i=null;if(this.POLL_INTERVAL?r=t.setInterval(n,this.POLL_INTERVAL):(u(t,"resize",n,!0),u(e,"scroll",n,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(i=new t.MutationObserver(n)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push(function(){var t=e.defaultView;t&&(r&&t.clearInterval(r),c(t,"resize",n,!0)),c(e,"scroll",n,!0),i&&i.disconnect()}),e!=(this.root&&this.root.ownerDocument||y)){var o=s(e);o&&this._monitorIntersections(o.ownerDocument)}}},t.prototype._unmonitorIntersections=function(r){var t=this._monitoringDocuments.indexOf(r);if(-1!=t){var i=this.root&&this.root.ownerDocument||y;if(!this._observationTargets.some(function(t){var e=t.element.ownerDocument;if(e==r)return!0;for(;e&&e!=i;){var n=s(e);if((e=n&&n.ownerDocument)==r)return!0}return!1})){var e=this._monitoringUnsubscribes[t];if(this._monitoringDocuments.splice(t,1),this._monitoringUnsubscribes.splice(t,1),e(),r!=i){var n=s(r);n&&this._unmonitorIntersections(n.ownerDocument)}}}},t.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var e=this._monitoringUnsubscribes.length=0;e<t.length;e++)t[e]()},t.prototype._checkForIntersections=function(){if(this.root||!_||E){var u=this._rootIsInDom(),c=u?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,n=T(e),r=this._rootContainsTarget(e),i=t.entry,o=u&&r&&this._computeTargetAndRootIntersection(e,n,c),s=t.entry=new a({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:n,rootBounds:_&&!this.root?null:c,intersectionRect:o});i?u&&r?this._hasCrossedThreshold(i,s)&&this._queuedEntries.push(s):i&&i.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},t.prototype._computeTargetAndRootIntersection=function(t,e,n){if("none"!=window.getComputedStyle(t).display){for(var r,i,o,s,u,c,a,h,l=e,f=O(t),d=!1;!d&&f;){var p=null,v=1==f.nodeType?window.getComputedStyle(f):{};if("none"==v.display)return null;if(f==this.root||9==f.nodeType)if(d=!0,f==this.root||f==y)_&&!this.root?!E||0==E.width&&0==E.height?l=p=f=null:p=E:p=n;else{var m=O(f),g=m&&T(m),w=m&&this._computeTargetAndRootIntersection(m,g,n);g&&w?(f=m,p=I(g,w)):l=f=null}else{var b=f.ownerDocument;f!=b.body&&f!=b.documentElement&&"visible"!=v.overflow&&(p=T(f))}if(p&&(r=p,i=l,void 0,o=Math.max(r.top,i.top),s=Math.min(r.bottom,i.bottom),u=Math.max(r.left,i.left),c=Math.min(r.right,i.right),h=s-o,l=0<=(a=c-u)&&0<=h&&{top:o,bottom:s,left:u,right:c,width:a,height:h}||null),!l)break;f=f&&O(f)}return l}},t.prototype._getRootRect=function(){var t;if(this.root)t=T(this.root);else{var e=y.documentElement,n=y.body;t={top:0,left:0,right:e.clientWidth||n.clientWidth,width:e.clientWidth||n.clientWidth,bottom:e.clientHeight||n.clientHeight,height:e.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},t.prototype._expandRectByRootMargin=function(n){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?n.width:n.height)/100}),e={top:n.top-t[0],right:n.right+t[1],bottom:n.bottom+t[2],left:n.left-t[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},t.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},t.prototype._rootIsInDom=function(){return!this.root||e(y,this.root)},t.prototype._rootContainsTarget=function(t){return e(this.root||y,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},t.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},t.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=a}function s(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function a(t){this.time=t.time,this.target=t.target,this.rootBounds=o(t.rootBounds),this.boundingClientRect=o(t.boundingClientRect),this.intersectionRect=o(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var n=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(t,e){var n=null;return function(){n=n||setTimeout(function(){t(),n=null},e)}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function u(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function c(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function T(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function I(t,e){var n=e.top-t.top,r=e.left-t.left;return{top:n,left:r,height:e.height,width:e.width,bottom:n+e.height,right:r+e.width}}function e(t,e){for(var n=e;n;){if(n==t)return!0;n=O(n)}return!1}function O(t){var e=t.parentNode;return 9==t.nodeType&&t!=y?s(t):e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},3:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return c});n(21);function r(t){var e;return t.getBoundingClientRect?{width:(e=t.getBoundingClientRect()).width,height:e.height}:{width:t.offsetWidth,height:t.offsetHeight}}function i(){try{if(window.frameElement&&void 0!==window.parent.location&&void 0!==window.parent.location.href){var t=window.parent.location.href;0<t.indexOf("#")&&(t=t.substr(0,t.indexOf("#")));var e=window.location.href;return 0<e.indexOf("#")&&(e=e.substr(0,e.indexOf("#"))),t==e}return!1}catch(t){return!1}}function o(t,n,e){var r=t.document.getElementById(e);if(!r)try{window.frameElement&&(r=window.frameElement)}catch(t){}new IntersectionObserver(function(t,e){.4<=t[0].intersectionRatio?n&&n(!0):n&&n(!1)},{root:null,rootMargin:"0px",threshold:.4}).observe(r)}function s(t,e){return-1<t.getAttribute("class").indexOf(e)}function u(t,e){t.classList?t.classList.add(e):s(t,e)||t.setAttribute("class",t.getAttribute("class")+" "+e)}function c(t,e){t.classList?t.classList.remove(e):s(t,e)&&t.setAttribute("class",t.getAttribute("class").replace(e," "))}},33:function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,a=[],h=!1,l=-1;function f(){h&&c&&(h=!1,c.length?a=c.concat(a):l=-1,a.length&&d())}function d(){if(!h){var t=u(f);h=!0;for(var e=a.length;e;){for(c=a,a=[];++l<e;)c&&c[l].run();l=-1,e=a.length}c=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new p(t,e)),1!==a.length||h||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},34:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},41:function(t,n,r){"use strict";(function(t){function e(){return new t(function(e){var t=document;try{window.frameElement&&window.parent.document&&(t=window.parent.document)}catch(t){}var n=t.createElement("div");n.innerHTML="&nbsp;",n.className="truvid adsbox",n.style.width="1px",n.style.height="1px",n.style.visibility="hidden",t.body.appendChild(n),setTimeout(function(){var t=!1;0===n.offsetHeight&&(t=!0),n.parentNode.removeChild(n),e(t)},100)})}r.d(n,"a",function(){return e})}).call(this,r(5).Promise)},47:function(t,e,n){"use strict";n.r(e);var v=n(10),m=n(3),r=n(41);!function(){var f=document.currentScript,d=document.currentScript;if(!f){if(!(d=function(){for(var t=document.scripts,e=0;e<t.length;e++){var n=t[e];if(n.src&&-1<n.src.indexOf("//stg.truvidplayer.com/")&&-1<n.src.indexOf("index.php")&&-1<n.src.indexOf("widget_id=2676")&&!n.getAttribute("data-used"))return n.setAttribute("data-used","true"),n}for(var r=0;r<t.length;r++){var i=t[r];if(i.src&&-1<i.src.indexOf("//go.trvdp.com/init/")&&-1<i.src.indexOf("2676.js")&&!i.getAttribute("data-used"))return i.setAttribute("data-used","true"),i}return null}()))return;if(!(f=function(){for(var t=document.scripts,e=0;e<t.length;e++){var n=t[e];if(n.src&&-1<n.src.indexOf("//go.trvdp.com/init/")&&-1<n.src.indexOf("2676.js"))return n}return null}()))return}var t="//stg.truvidplayer.com/p.php?sid=382&wid=2676",e=function(t){var e={},n=document.createElement("a");n.href=t;for(var r=n.search.substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].split("=");e[o[0]]=decodeURIComponent(o[1])}return e}(f.src);t+="&cb="+1e4*Math.random(),f.hasAttribute("data-pid")&&""!=f.getAttribute("data-pid")?t+="&pid="+f.getAttribute("data-pid"):e.pid&&(t+="&pid="+e.pid),f.hasAttribute("data-vid")&&""!=f.getAttribute("data-vid")?t+="&vid="+f.getAttribute("data-vid"):e.vid&&(t+="&vid="+e.vid),f.hasAttribute("data-d")&&""!=f.getAttribute("data-d")?t+="&d="+f.getAttribute("data-d"):e.d&&(t+="&d="+e.d),f.hasAttribute("isabtest")&&""!=f.getAttribute("isabtest")?t+="&isabtest="+f.getAttribute("isabtest"):e.isabtest&&(t+="&isabtest="+e.isabtest);var p=encodeURIComponent(window.location.href);t+="&url="+p,Object(r.a)().then(function(l){t+="&isab="+(l?1:0),Object(v.a)(t).then(function(t){if(t){var e=JSON.parse(t.toString());if(e&&void 0!==e.v){var n="//s.trvdp.com/scripts/v"+e.v+"/"+e.s+".js",r=window.document,i=window,o=Object(m.c)();if(void 0!==e.io&&1==e.io&&o){var s=!1,u=null;try{u=window.frameElement;var c=window;for(s=!0;c.frameElement&&c.frameElement.ownerDocument&&c.frameElement.ownerDocument.defaultView&&c.frameElement.ownerDocument.defaultView.frameElement;)u=c.frameElement.ownerDocument.defaultView.frameElement,c=window.frameElement.ownerDocument.defaultView;r=c.parent.document,i=c.parent.window,o=!1}catch(t){}var a=r.createElement("div");a.className="truvid_placeholder_"+e.wid,s?(u.parentNode.insertBefore(a,u),u.style.height="1px"):f.parentNode.insertBefore(a,f)}var h={wid:e.wid,sid:e.sid,fiframe:o,purl:p,adblock:l};Object(v.c)(n,r).then(function(){h.fiframe=o,i.brWidgetInit.init(e,h,d)}).catch(function(t){console.log("error loading version file"),console.log(t)})}}}).catch(function(t){console.log("error during player init"),console.log(t)})})}()},5:function(t,e,n){(function(N,U){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
t.exports=function(){"use strict";function c(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,e=void 0,i=void 0,s=function(t,e){f[r]=t,f[r+1]=e,2===(r+=2)&&(i?i(d):p())};var t="undefined"!=typeof window?window:void 0,o=t||{},u=o.MutationObserver||o.WebKitMutationObserver,a="undefined"==typeof self&&void 0!==N&&"[object process]"==={}.toString.call(N),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function l(){var t=setTimeout;return function(){return t(d,1)}}var f=new Array(1e3);function d(){for(var t=0;t<r;t+=2){var e=f[t],n=f[t+1];e(n),f[t]=void 0,f[t+1]=void 0}r=0}var p=void 0;function v(t,e){var n=this,r=new this.constructor(w);void 0===r[g]&&j(r);var i=n._state;if(i){var o=arguments[i-1];s(function(){return M(i,r,o,n._result)})}else R(n,r,t,e);return r}function m(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(w);return I(e,t),e}p=a?function(){return N.nextTick(d)}:u?function(){var t=0,e=new u(d),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():h?function(){var t=new MessageChannel;return t.port1.onmessage=d,function(){return t.port2.postMessage(0)}}():void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0===(e=t.runOnLoop||t.runOnContext)?l():function(){e(d)}}catch(t){return l()}}():l();var g=Math.random().toString(36).substring(2);function w(){}var b=void 0,y=1,_=2;function E(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function T(t,e,n){e.constructor===t.constructor&&n===v&&e.constructor.resolve===m?function(e,t){t._state===y?A(e,t._result):t._state===_?x(e,t._result):R(t,void 0,function(t){return I(e,t)},function(t){return x(e,t)})}(t,e):void 0===n?A(t,e):c(n)?function(t,r,i){s(function(e){var n=!1,t=E(i,r,function(t){n||(n=!0,r!==t?I(e,t):A(e,t))},function(t){n||(n=!0,x(e,t))},e._label);!n&&t&&(n=!0,x(e,t))},t)}(t,e,n):A(t,e)}function I(e,t){if(e===t)x(e,new TypeError("You cannot resolve a promise with itself"));else if(function(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)}(t)){var n=void 0;try{n=t.then}catch(t){return void x(e,t)}T(e,t,n)}else A(e,t)}function O(t){t._onerror&&t._onerror(t._result),D(t)}function A(t,e){t._state===b&&(t._result=e,t._state=y,0!==t._subscribers.length&&s(D,t))}function x(t,e){t._state===b&&(t._state=_,t._result=e,s(O,t))}function R(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+y]=n,i[o+_]=r,0===o&&t._state&&s(D,t)}function D(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?M(n,r,i,o):i(o);t._subscribers.length=0}}function M(t,e,n,r){var i=c(n),o=void 0,s=void 0,u=!0;if(i){try{o=n(r)}catch(t){u=!1,s=t}if(e===o)return void x(e,new TypeError("A promises callback cannot return that same promise."))}else o=r;e._state!==b||(i&&u?I(e,o):!1===u?x(e,s):t===y?A(e,o):t===_&&x(e,o))}var S=0;function j(t){t[g]=S++,t._state=void 0,t._result=void 0,t._subscribers=[]}var C=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(w),this.promise[g]||j(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&A(this.promise,this._result))):x(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===b&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===m){var i=void 0,o=void 0,s=!1;try{i=e.then}catch(t){s=!0,o=t}if(i===v&&e._state!==b)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===L){var u=new n(w);s?x(u,o):T(u,e,i),this._willSettleAt(u,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===b&&(this._remaining--,t===_?x(r,n):this._result[e]=n),0===this._remaining&&A(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;R(t,void 0,function(t){return n._settledAt(y,e,t)},function(t){return n._settledAt(_,e,t)})},t}();var L=function(){function e(t){this[g]=S++,this._result=this._state=void 0,this._subscribers=[],w!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){I(e,t)},function(t){x(e,t)})}catch(t){x(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return c(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return L.prototype.then=v,L.all=function(t){return new C(this,t).promise},L.race=function(i){var o=this;return n(i)?new o(function(t,e){for(var n=i.length,r=0;r<n;r++)o.resolve(i[r]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},L.resolve=m,L.reject=function(t){var e=new this(w);return x(e,t),e},L._setScheduler=function(t){i=t},L._setAsap=function(t){s=t},L._asap=s,L.polyfill=function(){var t=void 0;if(void 0!==U)t=U;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=L},L.Promise=L}()}).call(this,n(33),n(34))}});
